<!DOCTYPE HTML>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Schematron Conformance Testsuite</title><link rel="stylesheet" href="style.css"></head><body><h1>Schematron Conformance Testsuite</h1><p>As of 2020-06-01 there are 42 conformance tests defined.</p><h2>Testcases</h2><div><details><summary><h3>A pattern variable has global scope</h3></summary><p>ISO Schematron 2016: Section 5.4.5 clause 1</p><p>
                Running Schematron validation with this input should
                
                    report a <em class="valid">valid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"foobar"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"1"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"$foobar = 1"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>A rule variable can use a phase variable</h3></summary><p>ISO Schematron 2016: Section 6.5 clause 6</p><p>
                Running Schematron validation with this input should
                
                    report a <em class="valid">valid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:phase</span> <span class="attribute-name">id</span>=<span class="attribute-value">"phase"</span>&gt;<span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"phase-var"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"1"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:active</span> <span class="attribute-name">pattern</span>=<span class="attribute-value">"pattern"</span>/&gt;</span>&lt;/<span class="element-name">sch:phase</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span> <span class="attribute-name">id</span>=<span class="attribute-value">"pattern"</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"*"</span>&gt;<span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"rule-var"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"$phase-var + 1"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"$rule-var = 2"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>A rule variable can use a schema variable</h3></summary><p>ISO Schematron 2016: Section 6.5 clause 6</p><p>
                Running Schematron validation with this input should
                
                    report a <em class="valid">valid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"global-var"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"1"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"*"</span>&gt;<span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"rule-var"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"$global-var + 1"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"$rule-var = 2"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>A xsl:copy-of inside a sch:property is executed</h3></summary><p>ISO Schematron 2016: Annex C Clause 11 (xslt), Annex H Clause 11 (xslt2)</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><p>
                  In addition, the following XPath expressions are expected to return the effective boolean value of
                  <code>true()</code> when evaluated with the output of the Schematron validation process as context node:
                </p><ul><li><code>count(//svrl:property-reference/*) &gt; 0</code></li></ul><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"*"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"false()"</span> <span class="attribute-name">properties</span>=<span class="attribute-value">"copy-of"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:properties</span>&gt;<span class="element">&lt;<span class="element-name">sch:property</span> <span class="attribute-name">id</span>=<span class="attribute-value">"copy-of"</span>&gt;<span class="element">&lt;<span class="element-name">xsl:copy-of</span> <span class="attribute-name">select</span>=<span class="attribute-value">"."</span>/&gt;</span>&lt;/<span class="element-name">sch:property</span>&gt;</span>&lt;/<span class="element-name">sch:properties</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>An abstract pattern is instantiated</h3></summary><p>ISO Schematron 2016: Section 6.3</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span> <span class="attribute-name">abstract</span>=<span class="attribute-value">"true"</span> <span class="attribute-name">id</span>=<span class="attribute-value">"abstract-pattern"</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"$context"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"$placeholder = 0"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span> <span class="attribute-name">is-a</span>=<span class="attribute-value">"abstract-pattern"</span>&gt;<span class="element">&lt;<span class="element-name">sch:param</span> <span class="attribute-name">name</span>=<span class="attribute-value">"context"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"element"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:param</span> <span class="attribute-name">name</span>=<span class="attribute-value">"placeholder"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"1"</span>/&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>An abstract rule is instantiated</h3></summary><p>ISO Schematron 2016: Section 5.4.12 clause 5</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">abstract</span>=<span class="attribute-value">"true"</span> <span class="attribute-name">id</span>=<span class="attribute-value">"abstract-rule"</span>&gt;<span class="element">&lt;<span class="element-name">sch:report</span> <span class="attribute-name">test</span>=<span class="attribute-value">"self::element"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"element"</span>&gt;<span class="element">&lt;<span class="element-name">sch:extends</span> <span class="attribute-name">rule</span>=<span class="attribute-value">"abstract-rule"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>An xsl:key element can have element content</h3></summary><p>ISO Schematron 2016: Annex H, XSLT 2.0 Section 16.3.1</p><p>This test requires the processor to support the following features: xslt2.</p><p>
                Running Schematron validation with this input should
                
                    report a <em class="valid">valid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">document</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">xsl:key</span> <span class="attribute-name">name</span>=<span class="attribute-value">"key"</span> <span class="attribute-name">match</span>=<span class="attribute-value">"*"</span>&gt;<span class="element">&lt;<span class="element-name">xsl:text</span>&gt;key&lt;/<span class="element-name">xsl:text</span>&gt;</span>&lt;/<span class="element-name">xsl:key</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"count(key('key', 'key')) = 1"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>Context node is a comment node</h3></summary><p>ISO Schematron 2016: Annex C Clause 2 (xslt), Annex H Clause 2 (xslt2), Annex I Clause 2 (xpath2)</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">root</span>&gt;<span class="comment">&lt;--  Comment!  --&gt;</span>&lt;/<span class="element-name">root</span>&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"comment()"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"false()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>Context node is a processing instruction node</h3></summary><p>ISO Schematron 2016: Annex C Clause 2 (xslt), Annex H Clause 2 (xslt2), Annex I Clause 2 (xpath2)</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">root</span>&gt;<span class="processing-instruction">&lt;?processing-instruction foobar ?&gt;</span>&lt;/<span class="element-name">root</span>&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"processing-instruction()"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"false()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>Context node is a text node</h3></summary><p>ISO Schematron 2016: Annex C Clause 2 (xslt), Annex H Clause 2 (xslt2)</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">root</span>&gt;Content&lt;/<span class="element-name">root</span>&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"text()"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"false()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>Context node is an attribute node</h3></summary><p>ISO Schematron 2016: Annex C Clause 2 (xslt), Annex H Clause 2 (xslt2), Annex I Clause 2 (xpath2)</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span> <span class="attribute-name">attribute</span>=<span class="attribute-value">"value"</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"@attribute"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"false()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>Context node is an element node</h3></summary><p>ISO Schematron 2016: Annex C Clause 2 (xslt), Annex H Clause 2 (xslt2), Annex I Clause 2 (xpath2)</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"element"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"false()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>Context node is the root node</h3></summary><p>ISO Schematron 2016: Annex C clause 2 (xslt), Annex H clause 2 (xslt2)</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">root</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"false()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>Diagnostic references are copied to SVRL output</h3></summary><p>This test requires the processor to support the following features: svrl.</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><p>
                  In addition, the following XPath expressions are expected to return the effective boolean value of
                  <code>true()</code> when evaluated with the output of the Schematron validation process as context node:
                </p><ul><li><code>count(//svrl:successful-report/svrl:diagnostic-reference[@diagnostic = 'd1' or @diagnostic = 'd2']) = 2</code></li></ul><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:report</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span> <span class="attribute-name">diagnostics</span>=<span class="attribute-value">"d1 d2"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:diagnostics</span>&gt;<span class="element">&lt;<span class="element-name">sch:diagnostic</span> <span class="attribute-name">id</span>=<span class="attribute-value">"d1"</span>&gt;
          Context: <span class="element">&lt;<span class="element-name">sch:value-of</span> <span class="attribute-name">select</span>=<span class="attribute-value">"name()"</span>/&gt;</span>&lt;/<span class="element-name">sch:diagnostic</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:diagnostic</span> <span class="attribute-name">id</span>=<span class="attribute-value">"d2"</span>&gt;
          Context: <span class="element">&lt;<span class="element-name">sch:value-of</span> <span class="attribute-name">select</span>=<span class="attribute-value">"name()"</span>/&gt;</span>&lt;/<span class="element-name">sch:diagnostic</span>&gt;</span>&lt;/<span class="element-name">sch:diagnostics</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>Extends is recursive</h3></summary><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>Secondary documents</h4><p>include.sch</p><pre><code><span class="element">&lt;<span class="element-name">rule</span>&gt;<span class="element">&lt;<span class="element-name">extends</span> <span class="attribute-name">href</span>=<span class="attribute-value">"true.sch"</span>/&gt;</span>&lt;/<span class="element-name">rule</span>&gt;</span></code></pre><p>true.sch</p><pre><code><span class="element">&lt;<span class="element-name">rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">report</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>/&gt;</span>&lt;/<span class="element-name">rule</span>&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:extends</span> <span class="attribute-name">href</span>=<span class="attribute-value">"include.sch"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>Extends performs base URI fixup</h3></summary><p>XML Inclusions (XInclude) Version 1.1, Section 4.7.5.</p><p>
                Running Schematron validation with this input should
                
                    report a <em class="valid">valid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>Secondary documents</h4><p>subdir/include.sch</p><pre><code><span class="element">&lt;<span class="element-name">rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"local-name(document('include.sch')/*[1]) = 'rule'"</span>/&gt;</span>&lt;/<span class="element-name">rule</span>&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:extends</span> <span class="attribute-name">href</span>=<span class="attribute-value">"subdir/include.sch"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>Include is recursive</h3></summary><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>Secondary documents</h4><p>pattern.sch</p><pre><code><span class="element">&lt;<span class="element-name">pattern</span>&gt;<span class="element">&lt;<span class="element-name">include</span> <span class="attribute-name">href</span>=<span class="attribute-value">"rule.sch"</span>/&gt;</span>&lt;/<span class="element-name">pattern</span>&gt;</span></code></pre><p>rule.sch</p><pre><code><span class="element">&lt;<span class="element-name">rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">report</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>/&gt;</span>&lt;/<span class="element-name">rule</span>&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:include</span> <span class="attribute-name">href</span>=<span class="attribute-value">"pattern.sch"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span>/&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>Include performs base URI fixup</h3></summary><p>XML Inclusions (XInclude) Version 1.1, Section 4.7.5.</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>Secondary documents</h4><p>subdir/include.sch</p><pre><code><span class="element">&lt;<span class="element-name">rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">report</span> <span class="attribute-name">test</span>=<span class="attribute-value">"local-name(document('include.sch')/*[1]) = 'rule'"</span>/&gt;</span>&lt;/<span class="element-name">rule</span>&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:include</span> <span class="attribute-name">href</span>=<span class="attribute-value">"subdir/include.sch"</span>/&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>It is an error for a variable to be multiply defined globally</h3></summary><p>ISO Schematron 2016: Section 5.4.5 Clause 3</p><p>
                Running Schematron validation with this input should
                
                    cause an <em class="error">error</em>.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"foo"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"'bar'"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"foo"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"'bar'"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>It is an error for a variable to be multiply defined in the current pattern</h3></summary><p>ISO Schematron 2016: Section 5.4.5 Clause 3</p><p>
                Running Schematron validation with this input should
                
                    cause an <em class="error">error</em>.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"foo"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"'bar'"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"foo"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"'bar'"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>It is an error for a variable to be multiply defined in the current phase</h3></summary><p>ISO Schematron 2016: Section 5.4.5 Clause 3</p><p>
                Running Schematron validation with this input should
                
                    cause an <em class="error">error</em>.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:phase</span> <span class="attribute-name">id</span>=<span class="attribute-value">"phase"</span>&gt;<span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"foo"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"'bar'"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"foo"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"'bar'"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:active</span> <span class="attribute-name">pattern</span>=<span class="attribute-value">"pattern"</span>/&gt;</span>&lt;/<span class="element-name">sch:phase</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span> <span class="attribute-name">id</span>=<span class="attribute-value">"pattern"</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>It is an error for a variable to be multiply defined in the current rule</h3></summary><p>ISO Schematron 2016: Section 5.4.5 Clause 3</p><p>
                Running Schematron validation with this input should
                
                    cause an <em class="error">error</em>.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"foo"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"'bar'"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"foo"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"'bar'"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>It is an error for a variable to be multiply defined in the current schema</h3></summary><p>ISO Schematron 2016: Section 5.4.5 Clause 3</p><p>
                Running Schematron validation with this input should
                
                    cause an <em class="error">error</em>.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"foo"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"'bar'"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"foo"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"'bar'"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>It is an error to define a pattern variable with the same name as a global variable</h3></summary><p>ISO Schematron 2016: Section 5.4.5 clause 3</p><p>
                Running Schematron validation with this input should
                
                    cause an <em class="error">error</em>.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"foobar"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"1"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"foobar"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"1"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"$foobar = 1"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>It is an error to reference a variable in a rule context expression that has not been defined globally</h3></summary><p>ISO Schematron 2016: Section 5.4.5 Clause 3</p><p>
                Running Schematron validation with this input should
                
                    cause an <em class="error">error</em>.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"*[local-name() = $localname]"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>It is an error to reference a variable in an assert test expression that has not been defined globally</h3></summary><p>ISO Schematron 2016: Section 5.4.5 Clause 3</p><p>
                Running Schematron validation with this input should
                
                    cause an <em class="error">error</em>.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"*"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"$variable = 1"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>It is an error to reference a variable in an report test expression that has not been defined globally</h3></summary><p>ISO Schematron 2016: Section 5.4.5 Clause 3</p><p>
                Running Schematron validation with this input should
                
                    cause an <em class="error">error</em>.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"*"</span>&gt;<span class="element">&lt;<span class="element-name">sch:report</span> <span class="attribute-name">test</span>=<span class="attribute-value">"$variable = 1"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>It is an error to reference a variable in an rule variable that has not been defined globally</h3></summary><p>ISO Schematron 2016: Section 5.4.5 Clause 3</p><p>
                Running Schematron validation with this input should
                
                    cause an <em class="error">error</em>.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"*"</span>&gt;<span class="element">&lt;<span class="element-name">let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"ruleVariable"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"$variable"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"$ruleVariable"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>It is an error to reference a variable in the @path expression of a sch:name element that has not been defined globally</h3></summary><p>ISO Schematron 2016: Section 5.4.5 Clause 3</p><p>
                Running Schematron validation with this input should
                
                    cause an <em class="error">error</em>.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"*"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"false()"</span>&gt;<span class="element">&lt;<span class="element-name">sch:name</span> <span class="attribute-name">path</span>=<span class="attribute-value">"$variable"</span>/&gt;</span>&lt;/<span class="element-name">sch:assert</span>&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>It is an error to reference a variable in the @select expression of a sch:value-of element that has not been defined globally</h3></summary><p>ISO Schematron 2016: Section 5.4.5 Clause 3</p><p>
                Running Schematron validation with this input should
                
                    cause an <em class="error">error</em>.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"*"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"false()"</span>&gt;<span class="element">&lt;<span class="element-name">sch:value-of</span> <span class="attribute-name">select</span>=<span class="attribute-value">"$variable"</span>/&gt;</span>&lt;/<span class="element-name">sch:assert</span>&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>It is an error to reference an undefined variable in the @documents expression of a sch:pattern element</h3></summary><p>ISO Schematron 2016: Section 5.4.5 Clause 3</p><p>This test requires the processor to support the following features: iso2016.</p><p>
                Running Schematron validation with this input should
                
                    cause an <em class="error">error</em>.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span> <span class="attribute-name">documents</span>=<span class="attribute-value">"$variable"</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"*"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>Language tag of diagnostic is preserved in SVRL output</h3></summary><p>This test requires the processor to support the following features: svrl.</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><p>
                  In addition, the following XPath expressions are expected to return the effective boolean value of
                  <code>true()</code> when evaluated with the output of the Schematron validation process as context node:
                </p><ul><li><code>count(//svrl:successful-report/svrl:diagnostic-reference/svrl:text[@xml:lang = 'de']) = 1</code></li></ul><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:report</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span> <span class="attribute-name">diagnostics</span>=<span class="attribute-value">"d1"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:diagnostics</span>&gt;<span class="element">&lt;<span class="element-name">sch:diagnostic</span> <span class="attribute-name">id</span>=<span class="attribute-value">"d1"</span> <span class="attribute-name">xml:lang</span>=<span class="attribute-value">"de"</span>&gt;
          Context: <span class="element">&lt;<span class="element-name">sch:value-of</span> <span class="attribute-name">select</span>=<span class="attribute-value">"name()"</span>/&gt;</span>&lt;/<span class="element-name">sch:diagnostic</span>&gt;</span>&lt;/<span class="element-name">sch:diagnostics</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>Let uses the element content as value</h3></summary><p>ISO Schematron 2016: Section 5.4.5 clause 2</p><p>
                Running Schematron validation with this input should
                
                    report a <em class="valid">valid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      query binding 'xslt'
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span> <span class="attribute-name">queryBinding</span>=<span class="attribute-value">"xslt"</span>&gt;<span class="element">&lt;<span class="element-name">sch:ns</span> <span class="attribute-name">prefix</span>=<span class="attribute-value">"html"</span> <span class="attribute-name">uri</span>=<span class="attribute-value">"http://www.w3.org/1999/xhtml"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"foobar"</span>&gt;<span class="element">&lt;<span class="element-name">html:p</span>&gt;This is a paragraph&lt;/<span class="element-name">html:p</span>&gt;</span>&lt;/<span class="element-name">sch:let</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"contains($foobar, 'paragraph')"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any other query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:ns</span> <span class="attribute-name">prefix</span>=<span class="attribute-value">"html"</span> <span class="attribute-name">uri</span>=<span class="attribute-value">"http://www.w3.org/1999/xhtml"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"foobar"</span>&gt;<span class="element">&lt;<span class="element-name">html:p</span>&gt;This is a paragraph&lt;/<span class="element-name">html:p</span>&gt;</span>&lt;/<span class="element-name">sch:let</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"count($foobar/html:p) = 1"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>Lexical order of rules is significant</h3></summary><p>ISO Schematron 2016: Section 6.5 Clause 5</p><p>
                Running Schematron validation with this input should
                
                    report a <em class="valid">valid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"element"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"*"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"false()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>Pattern in a subordinate document</h3></summary><p>ISO Schematron 2016: Section 5.4.9 clause 2</p><p>This test requires the processor to support the following features: iso2016.</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span> <span class="attribute-name">secondary</span>=<span class="attribute-value">"document-02.xml"</span>/&gt;</span></code></pre><h4>Secondary documents</h4><p>document-02.xml</p><pre><code><span class="element">&lt;<span class="element-name">root</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span> <span class="attribute-name">documents</span>=<span class="attribute-value">"/element/@secondary"</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:report</span> <span class="attribute-name">test</span>=<span class="attribute-value">"root"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>Property references are copied to SVRL output</h3></summary><p>This test requires the processor to support the following features: svrl.</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><p>
                  In addition, the following XPath expressions are expected to return the effective boolean value of
                  <code>true()</code> when evaluated with the output of the Schematron validation process as context node:
                </p><ul><li><code>count(//svrl:successful-report/svrl:property-reference[@property = 'p1' or @property = 'p2']) = 2</code></li></ul><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:report</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span> <span class="attribute-name">properties</span>=<span class="attribute-value">"p1 p2"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:properties</span>&gt;<span class="element">&lt;<span class="element-name">sch:property</span> <span class="attribute-name">id</span>=<span class="attribute-value">"p1"</span>&gt;
          Context: <span class="element">&lt;<span class="element-name">sch:value-of</span> <span class="attribute-name">select</span>=<span class="attribute-value">"name()"</span>/&gt;</span>&lt;/<span class="element-name">sch:property</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:property</span> <span class="attribute-name">id</span>=<span class="attribute-value">"p2"</span>&gt;
          Context: <span class="element">&lt;<span class="element-name">sch:value-of</span> <span class="attribute-name">select</span>=<span class="attribute-value">"name()"</span>/&gt;</span>&lt;/<span class="element-name">sch:property</span>&gt;</span>&lt;/<span class="element-name">sch:properties</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>The sch:name element expands into the name of the context node if no @path is present</h3></summary><p>ISO Schematron 2016: Section 5.4.6, Annex C clause 4 (xslt), Annex H clause 4 (xslt2), Annex I clause 4 (xpath2)</p><p>This test requires the processor to support the following features: svrl.</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><p>
                  In addition, the following XPath expressions are expected to return the effective boolean value of
                  <code>true()</code> when evaluated with the output of the Schematron validation process as context node:
                </p><ul><li><code>normalize-space(//svrl:successful-report) = 'element'</code></li></ul><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/element"</span>&gt;<span class="element">&lt;<span class="element-name">sch:report</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>&gt;<span class="element">&lt;<span class="element-name">sch:name</span>/&gt;</span>&lt;/<span class="element-name">sch:report</span>&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>The sch:name element expands into the value of evaluating the expression in @path</h3></summary><p>ISO Schematron 2016: Section 5.4.6, Annex C clause 4 (xslt), Annex H clause 4 (xslt2), Annex I clause 4 (xpath2)</p><p>This test requires the processor to support the following features: svrl.</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><p>
                  In addition, the following XPath expressions are expected to return the effective boolean value of
                  <code>true()</code> when evaluated with the output of the Schematron validation process as context node:
                </p><ul><li><code>normalize-space(//svrl:successful-report) = 'value'</code></li></ul><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span> <span class="attribute-name">attribute</span>=<span class="attribute-value">"value"</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/element"</span>&gt;<span class="element">&lt;<span class="element-name">sch:report</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>&gt;<span class="element">&lt;<span class="element-name">sch:name</span> <span class="attribute-name">path</span>=<span class="attribute-value">"@attribute"</span>/&gt;</span>&lt;/<span class="element-name">sch:report</span>&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>The sch:value-of element expands into the value of evaluating the expression in @select</h3></summary><p>ISO Schematron 2016: Section 5.4.14, Annex C clause 5 (xslt), Annex H clause 5 (xslt2), Annex I clause 5 (xpath2)</p><p>This test requires the processor to support the following features: svrl.</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><p>
                  In addition, the following XPath expressions are expected to return the effective boolean value of
                  <code>true()</code> when evaluated with the output of the Schematron validation process as context node:
                </p><ul><li><code>normalize-space(//svrl:successful-report) = 'Text content'</code></li></ul><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>&gt;Text content&lt;/<span class="element-name">element</span>&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:pattern</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/element"</span>&gt;<span class="element">&lt;<span class="element-name">sch:report</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>&gt;<span class="element">&lt;<span class="element-name">sch:value-of</span> <span class="attribute-name">select</span>=<span class="attribute-value">"."</span>/&gt;</span>&lt;/<span class="element-name">sch:report</span>&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>The subordinate document expression contains a variable</h3></summary><p>This test requires the processor to support the following features: iso2016.</p><p>
                Running Schematron validation with this input should
                
                    report an <em class="invalid">invalid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span> <span class="attribute-name">secondary</span>=<span class="attribute-value">"document-02"</span>/&gt;</span></code></pre><h4>Secondary documents</h4><p>document-02.xml</p><pre><code><span class="element">&lt;<span class="element-name">root</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span>&gt;<span class="element">&lt;<span class="element-name">sch:let</span> <span class="attribute-name">name</span>=<span class="attribute-value">"extension"</span> <span class="attribute-name">value</span>=<span class="attribute-value">"'.xml'"</span>/&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span> <span class="attribute-name">documents</span>=<span class="attribute-value">"concat(/element/@secondary, $extension)"</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"/"</span>&gt;<span class="element">&lt;<span class="element-name">sch:report</span> <span class="attribute-name">test</span>=<span class="attribute-value">"root"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>When a phase named '#DEFAULT' is given, the processor uses the phase given in @defaultPhase</h3></summary><p>
                Running Schematron validation with this input should
                
                    report a <em class="valid">valid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span> <span class="attribute-name">defaultPhase</span>=<span class="attribute-value">"phase"</span>&gt;<span class="element">&lt;<span class="element-name">sch:phase</span> <span class="attribute-name">id</span>=<span class="attribute-value">"phase"</span>&gt;<span class="element">&lt;<span class="element-name">sch:active</span> <span class="attribute-name">pattern</span>=<span class="attribute-value">"pass"</span>/&gt;</span>&lt;/<span class="element-name">sch:phase</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span> <span class="attribute-name">id</span>=<span class="attribute-value">"fail"</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"*"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"false()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span> <span class="attribute-name">id</span>=<span class="attribute-value">"pass"</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"*"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div><div><details><summary><h3>When no phase is given, the processor uses the phase given in @defaultPhase</h3></summary><p>ISO Schematron 2016: Section 5.4.13 clause 3</p><p>
                Running Schematron validation with this input should
                
                    report a <em class="valid">valid</em> document.
                  </p><h4>Primary document</h4><p>document.xml</p><pre><code><span class="element">&lt;<span class="element-name">element</span>/&gt;</span></code></pre><h4>
                  Schematron for
                  
                      any  query binding
                    </h4><pre><code><span class="element">&lt;<span class="element-name">sch:schema</span> <span class="attribute-name">defaultPhase</span>=<span class="attribute-value">"phase"</span>&gt;<span class="element">&lt;<span class="element-name">sch:phase</span> <span class="attribute-name">id</span>=<span class="attribute-value">"phase"</span>&gt;<span class="element">&lt;<span class="element-name">sch:active</span> <span class="attribute-name">pattern</span>=<span class="attribute-value">"pass"</span>/&gt;</span>&lt;/<span class="element-name">sch:phase</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span> <span class="attribute-name">id</span>=<span class="attribute-value">"fail"</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"*"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"false()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span><span class="element">&lt;<span class="element-name">sch:pattern</span> <span class="attribute-name">id</span>=<span class="attribute-value">"pass"</span>&gt;<span class="element">&lt;<span class="element-name">sch:rule</span> <span class="attribute-name">context</span>=<span class="attribute-value">"*"</span>&gt;<span class="element">&lt;<span class="element-name">sch:assert</span> <span class="attribute-name">test</span>=<span class="attribute-value">"true()"</span>/&gt;</span>&lt;/<span class="element-name">sch:rule</span>&gt;</span>&lt;/<span class="element-name">sch:pattern</span>&gt;</span>&lt;/<span class="element-name">sch:schema</span>&gt;</span></code></pre></details></div></body></html>